<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="keywords" content="hot-spotting, hotspot, hot-spot, hot spot, hotspots, hotspotting">
<title>Clear trained model deployment cache API | Elasticsearch Guide | Elastic</title>
<meta class="elastic" name="content" content="Clear trained model deployment cache API | Elasticsearch Guide">

<link rel="home" href="index.html" title="Elasticsearch Guide"/>
<link rel="up" href="ml-df-trained-models-apis.html" title="Machine learning trained model APIs"/>
<link rel="prev" href="ml-df-trained-models-apis.html" title="Machine learning trained model APIs"/>
<link rel="next" href="put-trained-models-aliases.html" title="Create or update trained model aliases API"/>
<meta class="elastic" name="product_version" content=""/>
<meta class="elastic" name="product_name" content=""/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/"/>
<meta name="DC.subject" content=""/>
<meta name="DC.identifier" content=""/>
</head>
<body>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elasticsearch Guide</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="rest-apis.html">REST APIs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="ml-df-trained-models-apis.html">Machine learning trained model APIs</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="ml-df-trained-models-apis.html">« Machine learning trained model APIs</a>
</span>
<span class="next">
<a href="put-trained-models-aliases.html">Create or update trained model aliases API »</a>
</span>
</div>
<div class="section xpack">
<div class="titlepage"><div><div>
<h2 class="title"><a id="clear-trained-model-deployment-cache"></a>Clear trained model deployment cache API<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/QubitPi/elasticsearch/edit/master/docs/reference/ml/trained-models/apis/clear-trained-model-deployment-cache.asciidoc">edit</a></h2>
</div></div></div>

<p>Clears the inference cache on all nodes where the deployment is assigned.</p>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="clear-trained-model-deployment-cache-request"></a>Request<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/QubitPi/elasticsearch/edit/master/docs/reference/ml/trained-models/apis/clear-trained-model-deployment-cache.asciidoc">edit</a></h3>
</div></div></div>
<p><code class="literal">POST _ml/trained_models/&lt;deployment_id&gt;/deployment/cache/_clear</code></p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="clear-trained-model-deployment-cache-prereq"></a>Prerequisites<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/QubitPi/elasticsearch/edit/master/docs/reference/ml/trained-models/apis/clear-trained-model-deployment-cache.asciidoc">edit</a></h3>
</div></div></div>
<p>Requires the <code class="literal">manage_ml</code> cluster privilege. This privilege is included in the
<code class="literal">machine_learning_admin</code> built-in role.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="clear-trained-model-deployment-cache-desc"></a>Description<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/QubitPi/elasticsearch/edit/master/docs/reference/ml/trained-models/apis/clear-trained-model-deployment-cache.asciidoc">edit</a></h3>
</div></div></div>
<p>A trained model deployment may have an inference cache enabled. As requests are
handled by each allocated node, their responses may be cached on that individual
node. Calling this API clears the caches without restarting the deployment.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="clear-trained-model-deployment-cache-path-params"></a>Path parameters<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/QubitPi/elasticsearch/edit/master/docs/reference/ml/trained-models/apis/clear-trained-model-deployment-cache.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">deployment_id</code>
</span>
</dt>
<dd>
(Required, string)
A unique identifier for the deployment of the model.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="clear-trained-model-deployment-cache-example"></a>Examples<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/QubitPi/elasticsearch/edit/master/docs/reference/ml/trained-models/apis/clear-trained-model-deployment-cache.asciidoc">edit</a></h3>
</div></div></div>
<p>The following example clears the cache for the new deployment for the
<code class="literal">elastic__distilbert-base-uncased-finetuned-conll03-english</code> trained model:</p>
<div class="pre_wrapper lang-console">
<pre class="programlisting prettyprint lang-console">POST _ml/trained_models/elastic__distilbert-base-uncased-finetuned-conll03-english/deployment/cache/_clear</pre>
</div>
<div class="console_widget" data-snippet="snippets/2724.console"></div>
<p>The API returns the following results:</p>
<div class="pre_wrapper lang-console-result">
<pre class="programlisting prettyprint lang-console-result">{
   "cleared": true
}</pre>
</div>
</div>

</div>
<div class="navfooter">
<span class="prev">
<a href="ml-df-trained-models-apis.html">« Machine learning trained model APIs</a>
</span>
<span class="next">
<a href="put-trained-models-aliases.html">Create or update trained model aliases API »</a>
</span>
</div>
</div>
</body>
</html>
